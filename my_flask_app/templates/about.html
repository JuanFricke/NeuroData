{% extends "base.html" %}

{% block title %}About{% endblock %}

{% block content %}
<div class="box custom-gradient-background">

    <div class="container ">
        <div class="columns is-mobile ">
        
            <div class="container column is-mobile">
                    <div class="card">
                        <div class="card-image">
                        <figure class="image">
                            <img
                            src="{{ url_for('static', filename='photos/cigarronasescolas.png')}}"
                            alt="Placeholder image"
                            />
                        </figure>
                        </div>
                        <div class="card-content">
                        <div class="media">
                            <div class="media-left">
                            <figure class="image is-48x48">
                                <img
                                src="{{ url_for('static', filename='photos/cigarronasescolas.png')}}"
                                alt="Placeholder image"
                                />
                            </figure>
                            </div>
                            <div class="media-content">
                            <p class="title is-4">John Smith</p>
                            <p class="subtitle is-6">@johnsmith</p>
                            </div>
                        </div>
                    
                        <div class="content">
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus nec
                            iaculis mauris. <a>@bulmaio</a>. <a href="#">#css</a>
                            <a href="#">#responsive</a>
                            <br />
                            <time datetime="2016-1-1">11:09 PM - 1 Jan 2016</time>
                        </div>
                        </div>
                    </div>
                    <div class="container is-widescreen">
                        <div class="audio-player box ">
                            <div class="audio-title">Your Audio Title</div>
                            <div class="audio-player-wrapper">
                              <button id="play-pause" class="button is-ghost">▶️</button>
                              <div class="progress-bar-container" id="progress-bar-container">
                                <progress class="progress is-primary" id="progress-bar" max="100"></progress>
                                <div class="time-display" id="time-display">
                                  <span id="cur-time-audio-player">00:00</span> /
                                  <span class="max-time-audio-player">00:00</span>
                                </div>
                              </div>
                            </div>
                            <audio id="audio">
                              <source src="{{ url_for('static', filename='audio/ugao.mp3')}}" type="audio/mp3">
                              Your browser does not support the audio element.
                            </audio>
                          </div>
                          
                      </div>
                    
                  
                </div>

                    <div class="container column">
                    <div class="card ">
                        <div class="card-content">
                        <p class="title">
                            “There are two hard things in computer science: cache invalidation, naming
                            things, and off-by-one errors.”
                        </p>
                        <p class="subtitle">Jeff Atwood</p>
                        </div>
                        <footer class="card-footer">
                        <p class="card-footer-item">
                            <span>
                            View on
                            <a href="https://twitter.com/codinghorror/status/506010907021828096"
                                >Twitter</a
                            >
                            </span>
                        </p>
                        <p class="card-footer-item">
                            <span> Share on <a href="#">Facebook</a> </span>
                        </p>
                        </footer>
                    </div>
                </div>
        </div> 
    </div>    
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const audio = document.getElementById('audio');
        const playPauseBtn = document.getElementById('play-pause');
        const progressBar = document.getElementById('progress-bar');
        const progressBarContainer = document.getElementById('progress-bar-container');
        const curTimeDisplay = document.getElementById('cur-time-audio-player');
        const maxTimeDisplay = document.getElementById('max-time-audio-player');

        playPauseBtn.addEventListener('click', () => {
            if (audio.paused) {
                audio.play();
                playPauseBtn.textContent = '⏸️';
            } else {
                audio.pause();
                playPauseBtn.textContent = '▶️';
            }
        });

        audio.addEventListener('timeupdate', () => {
            const progress = (audio.currentTime / audio.duration) * 100;
            progressBar.value = progress;
            curTimeDisplay.textContent = formatTime(audio.currentTime);
        });

        audio.addEventListener('loadedmetadata', () => {
            maxTimeDisplay.textContent = formatTime(audio.duration);
        });

        progressBar.addEventListener('click', (e) => {
            const rect = progressBar.getBoundingClientRect();
            const offsetX = e.clientX - rect.left;
            const newTime = (offsetX / rect.width) * audio.duration;
            audio.currentTime = newTime;
        });

        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
        }
    });
</script>
  
{% endblock %}
